# ë¹™ê³  ê²Œì„

3Ã—3 ë¹™ê³  ê²Œì„ì„ ë§Œë“¤ê³  ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## í…Œì´ë¸” êµ¬ì¡°

### bingo_members (ë©¤ë²„)

| ì»¬ëŸ¼        | íƒ€ì…        | ì„¤ëª…           |
|------------|-------------|----------------|
| id         | bigint (PK) | ìë™ ì¦ê°€ ID   |
| name       | text        | ì´ë¦„ (í•„ìˆ˜)    |
| password   | text        | ë¹„ë°€ë²ˆí˜¸ (í•„ìˆ˜)|
| created_at | timestamptz | ë“±ë¡ ì‹œê°      |

### bingo_games (ê²Œì„)

| ì»¬ëŸ¼       | íƒ€ì…        | ì„¤ëª…                    |
|-----------|-------------|-------------------------|
| id        | bigint (PK) | ìë™ ì¦ê°€ ID            |
| title     | text        | ê²Œì„ ì œëª© (í•„ìˆ˜)        |
| grid_size | int         | ê²©ì í¬ê¸° (ê¸°ë³¸ 3)      |
| win_lines | int         | ìŠ¹ë¦¬ ì¡°ê±´: ì™„ì„±í•  ì¤„ ìˆ˜ (ê¸°ë³¸ 1) |
| start_date| date        | ì‹œì‘ì¼ (í•„ìˆ˜)           |
| end_date  | date        | ì¢…ë£Œì¼ (í•„ìˆ˜)           |
| prize1    | text        | 1ë“± ìƒí’ˆ               |
| prize2    | text        | 2ë“± ìƒí’ˆ               |
| prize3    | text        | 3ë“± ìƒí’ˆ               |
| created_at| timestamptz | ë“±ë¡ ì‹œê°              |

### bingo_game_cells (ê²Œì„ ê²©ì ì¹¸)

| ì»¬ëŸ¼      | íƒ€ì…        | ì„¤ëª…                    |
|----------|-------------|-------------------------|
| id       | bigint (PK) | ìë™ ì¦ê°€ ID            |
| game_id  | bigint (FK) | bingo_games.id          |
| row_index| int         | í–‰ ì¸ë±ìŠ¤ (0~2)         |
| col_index| int         | ì—´ ì¸ë±ìŠ¤ (0~2)         |
| content  | text        | ì¹¸ ë‚´ìš© (ìˆ«ìÂ·ë‹¨ì–´ ë“±)   |

- ìœ ë‹ˆí¬: `(game_id, row_index, col_index)`

### bingo_marked_cells (ë©¤ë²„ë³„ ë‹¬ì„±í•œ ì¹¸)

| ì»¬ëŸ¼     | íƒ€ì…        | ì„¤ëª…              |
|---------|-------------|-------------------|
| id      | bigint (PK) | ìë™ ì¦ê°€ ID      |
| game_id | bigint (FK) | bingo_games.id    |
| member_id | bigint (FK) | bingo_members.id |
| row_index | int       | í–‰ ì¸ë±ìŠ¤         |
| col_index | int       | ì—´ ì¸ë±ìŠ¤         |
| marked_at | timestamptz | ë‹¬ì„± ì‹œê°        |

- ìœ ë‹ˆí¬: `(game_id, member_id, row_index, col_index)`

### bingo_achievements (ê²Œì„ë³„ ë‹¬ì„± ê¸°ë¡)

| ì»¬ëŸ¼       | íƒ€ì…        | ì„¤ëª…                    |
|-----------|-------------|-------------------------|
| id        | bigint (PK) | ìë™ ì¦ê°€ ID            |
| game_id   | bigint (FK) | bingo_games.id          |
| member_id | bigint (FK) | bingo_members.id        |
| bingo_count | int      | ì™„ì„±í•œ ë¹™ê³  ì¤„ ìˆ˜ (ê¸°ë³¸ 0) |
| updated_at | timestamptz | ê°±ì‹  ì‹œê°             |

- ìœ ë‹ˆí¬: `(game_id, member_id)` â€” ê²Œì„ë‹¹ ë©¤ë²„ë‹¹ í•œ í–‰

---

## ì„¤ì •

### 1. Supabase

1. [Supabase](https://supabase.com)ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
2. SQL Editorì—ì„œ ì•„ë˜ **ì „ì²´ í…Œì´ë¸” ìƒì„± ìŠ¤í¬ë¦½íŠ¸**ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

```sql
-- 1. ë©¤ë²„
create table bingo_members (
  id bigint primary key generated by default as identity,
  name text not null,
  password text not null,
  created_at timestamptz default now()
);

-- 2. ê²Œì„ (3Ã—3 ê³ ì •, ìŠ¹ë¦¬ ì¡°ê±´: ì™„ì„±í•  ì¤„ ìˆ˜)
create table bingo_games (
  id bigint primary key generated by default as identity,
  title text not null,
  grid_size int not null default 3,
  win_lines int not null default 1,
  start_date date not null,
  end_date date not null,
  prize1 text,
  prize2 text,
  prize3 text,
  created_at timestamptz default now()
);

-- 3. ê²Œì„ ê²©ì ì¹¸
create table bingo_game_cells (
  id bigint primary key generated by default as identity,
  game_id bigint not null references bingo_games(id) on delete cascade,
  row_index int not null,
  col_index int not null,
  content text not null,
  unique(game_id, row_index, col_index)
);
create index idx_bingo_game_cells_game on bingo_game_cells(game_id);

-- 4. ë©¤ë²„ë³„ ë‹¬ì„±í•œ ì¹¸ (ë‹¬ì„± ì‹œê° í¬í•¨)
create table bingo_marked_cells (
  id bigint primary key generated by default as identity,
  game_id bigint not null references bingo_games(id) on delete cascade,
  member_id bigint not null references bingo_members(id) on delete cascade,
  row_index int not null,
  col_index int not null,
  marked_at timestamptz default now(),
  unique(game_id, member_id, row_index, col_index)
);
create index idx_bingo_marked_cells_game_member on bingo_marked_cells(game_id, member_id);

-- 5. ê²Œì„ë³„ ë‹¬ì„± ê¸°ë¡ (ë©¤ë²„ë‹¹ í•œ í–‰, bingo_count = ì™„ì„±í•œ ì¤„ ìˆ˜)
create table bingo_achievements (
  id bigint primary key generated by default as identity,
  game_id bigint not null references bingo_games(id) on delete cascade,
  member_id bigint not null references bingo_members(id) on delete cascade,
  bingo_count int not null default 0,
  updated_at timestamptz default now(),
  unique(game_id, member_id)
);
create index idx_bingo_achievements_game on bingo_achievements(game_id);
```

**ê¸°ì¡´ `bingo_marked_cells`ì— `marked_at`ì´ ì—†ëŠ” ê²½ìš°:**

```sql
alter table bingo_marked_cells add column if not exists marked_at timestamptz default now();
```

3. `index.html` ìƒë‹¨ì˜ `SUPABASE_URL`, `SUPABASE_ANON_KEY`ì— í”„ë¡œì íŠ¸ URLê³¼ anon public í‚¤ë¥¼ ë„£ìŠµë‹ˆë‹¤.

### 2. ì¹´ì¹´ì˜¤í†¡ ê³µìœ 

1. [Kakao Developers](https://developers.kakao.com)ì—ì„œ ì•±ì„ ë§Œë“¤ê³  **JavaScript í‚¤**ë¥¼ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.
2. í”Œë«í¼ì— ì›¹ ì‚¬ì´íŠ¸ URLì„ ë“±ë¡í•©ë‹ˆë‹¤.
3. `index.html`ì˜ `KAKAO_JS_KEY`ì— JavaScript í‚¤ë¥¼ ë„£ìŠµë‹ˆë‹¤.

## ì‚¬ìš© ë°©ë²•

- **ë©¤ë²„ ë“±ë¡**: ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë©¤ë²„ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
- **ê²Œì„ ë“±ë¡**: ê²Œì„ ì´ë¦„, ìŠ¹ë¦¬ ì¡°ê±´(ì™„ì„±í•  ì¤„ ìˆ˜), 3Ã—3 ì¹¸ ë‚´ìš©, ì‹œì‘ì¼Â·ì¢…ë£Œì¼, 1~3ë“± ìƒí’ˆì„ ì…ë ¥í•´ ê²Œì„ì„ ë§Œë“­ë‹ˆë‹¤.
- **ê²Œì„ ì„ íƒ ë° ì°¸ì—¬**: ê²Œì„ì„ ì„ íƒí•˜ë©´ ìƒí’ˆ ì •ë³´, ì°¸ì—¬ ë©¤ë²„ ì„ íƒ, ë¹™ê³ íŒ, ìˆœìœ„ê°€ í‘œì‹œë©ë‹ˆë‹¤. ì´ë¯¸ ì°¸ì—¬í•œ ë©¤ë²„ë¥¼ ì„ íƒí•˜ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•œ ë’¤ "í™•ì¸"ì„ ëˆ„ë¥´ë©´ ëª©í‘œ ì„ íƒÂ·ê³ ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì•„ì§ ì°¸ì—¬í•˜ì§€ ì•Šì€ ë©¤ë²„ëŠ” "í™•ì¸"ìœ¼ë¡œ ì°¸ì—¬ í›„ ë¹™ê³ íŒì—ì„œ ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ìˆœìœ„**: ë¹™ê³  ìˆ˜ â†’ ëª©í‘œ ë‹¬ì„± ìˆ˜ â†’ ê°€ì¥ ë¹ ë¥¸ ëª©í‘œ ë‹¬ì„± ì‹œê° ìˆœìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤. ìˆœìœ„í‘œì—ëŠ” ë¹™ê³  ë‹¬ì„±, ëª©í‘œ ë‹¬ì„± ì—´ì´ í‘œì‹œë©ë‹ˆë‹¤.
- **ì´ë ¥ ì¡°íšŒ**: ìˆœìœ„ í…Œì´ë¸”ì—ì„œ í•´ë‹¹ í–‰ì˜ ğŸ“‹ë¥¼ ëˆ„ë¥´ë©´ ê·¸ ë©¤ë²„ì˜ ë‹¬ì„± ì´ë ¥ë§Œ ì¡°íšŒë©ë‹ˆë‹¤.
- **ì¹´ì¹´ì˜¤í†¡ ê³µìœ **: ì•± íƒ€ì´í‹€, ì„ íƒëœ ê²Œì„ ì œëª©, ê¸°ê°„, ê³µìœ  ì‹œê°, ìˆœìœ„ ëª©ë¡ì„ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ê¸°ìˆ  ìŠ¤íƒ

- HTML5, CSS3, Vanilla JavaScript
- Supabase (PostgreSQL, JS SDK v2)
- ì¹´ì¹´ì˜¤í†¡ JavaScript SDK
